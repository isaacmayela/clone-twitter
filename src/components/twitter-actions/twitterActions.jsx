import React from 'react';
import "./tweet-actions.css"
import { Link } from 'react-router-dom';
import UsefulFeatures from '../../utils/utils';
import { useContext } from 'react';
import UserContext from '../../context/UserContext';


function TweeterActions({reply, retweet, react, tweetKey}) {

  const curentuser = useContext(UserContext);

  const handleTweetSubmit = () =>{

    UsefulFeatures.likeTweet(tweetKey, curentuser.userName)

    // window.location.reload();
    
  }

  let currentUserHaveTweet = UsefulFeatures.checkIfCurrentUserHaveTweet(tweetKey, curentuser.userName)

  return (
    <>
        <div className="tweet-action hover-react">
          <Link className='action-link' title='Reply'>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="49px" height="50px" viewBox="0 0 49 50" version="1.1">
            <g id="surface1">
            <path className= "path1" d="M 24.5 0.714844 C 38.03125 0.714844 49 11.585938 49 25 C 49 38.414062 38.03125 49.285156 24.5 49.285156 C 10.96875 49.285156 0 38.414062 0 25 C 0 11.585938 10.96875 0.714844 24.5 0.714844 Z M 24.5 0.714844 "/>
            <path className= "path2" d="M 26.957031 13.382812 L 21.976562 13.371094 L 21.972656 13.371094 C 16.71875 13.371094 12.605469 17.449219 12.605469 22.660156 C 12.605469 27.539062 16.433594 31.238281 21.570312 31.433594 L 21.570312 35.992188 C 21.570312 36.117188 21.625 36.332031 21.714844 36.46875 C 21.886719 36.738281 22.175781 36.882812 22.472656 36.882812 C 22.640625 36.882812 22.804688 36.839844 22.957031 36.742188 C 23.273438 36.542969 30.730469 31.8125 32.671875 30.1875 C 34.953125 28.269531 36.320312 25.460938 36.324219 22.675781 L 36.324219 22.652344 C 36.316406 17.453125 32.207031 13.382812 26.957031 13.382812 Z M 31.503906 28.824219 C 30.144531 29.96875 25.667969 32.878906 23.371094 34.355469 L 23.371094 30.558594 C 23.371094 30.066406 22.96875 29.667969 22.472656 29.667969 L 21.996094 29.667969 C 17.601562 29.667969 14.40625 26.71875 14.40625 22.660156 C 14.40625 18.453125 17.734375 15.15625 21.972656 15.15625 L 26.953125 15.167969 L 26.957031 15.167969 C 31.199219 15.167969 34.523438 18.460938 34.527344 22.664062 C 34.523438 24.9375 33.394531 27.242188 31.507812 28.824219 Z M 31.503906 28.824219 "/>
            </g>
            </svg>
            <p>{reply}</p>
          </Link>
        </div>
        <div className="tweet-action hover-retweet">
          <Link className="action-link" title='Retweet'>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="49px" height="50px" viewBox="0 0 49 50" version="1.1">
            <g id="surface1">
            <path className= "path1" d="M 24.5 0.714844 C 38.03125 0.714844 49 11.585938 49 25 C 49 38.414062 38.03125 49.285156 24.5 49.285156 C 10.96875 49.285156 0 38.414062 0 25 C 0 11.585938 10.96875 0.714844 24.5 0.714844 Z M 24.5 0.714844 "/>
            <path className= "path2" d="M 38.636719 29.367188 C 38.285156 29.019531 37.714844 29.019531 37.363281 29.367188 L 34.695312 32.011719 L 34.695312 19.820312 C 34.695312 17.359375 32.675781 15.355469 30.191406 15.355469 L 23.167969 15.355469 C 22.667969 15.355469 22.265625 15.757812 22.265625 16.25 C 22.265625 16.742188 22.667969 17.144531 23.167969 17.144531 L 30.191406 17.144531 C 31.683594 17.144531 32.894531 18.34375 32.894531 19.820312 L 32.894531 32.011719 L 30.230469 29.367188 C 29.875 29.019531 29.304688 29.019531 28.957031 29.367188 C 28.605469 29.71875 28.601562 30.285156 28.957031 30.632812 L 33.160156 34.796875 C 33.332031 34.972656 33.5625 35.058594 33.796875 35.058594 C 34.027344 35.058594 34.253906 34.972656 34.433594 34.796875 L 38.636719 30.632812 C 38.988281 30.285156 38.988281 29.71875 38.636719 29.367188 Z M 25.832031 33.273438 L 18.808594 33.273438 C 17.316406 33.273438 16.105469 32.070312 16.105469 30.59375 L 16.105469 18.40625 L 18.769531 21.046875 C 18.949219 21.222656 19.179688 21.308594 19.410156 21.308594 C 19.640625 21.308594 19.871094 21.222656 20.046875 21.046875 C 20.398438 20.699219 20.398438 20.132812 20.046875 19.785156 L 15.84375 15.617188 C 15.492188 15.269531 14.921875 15.269531 14.570312 15.617188 L 10.367188 19.785156 C 10.015625 20.132812 10.015625 20.699219 10.367188 21.046875 C 10.71875 21.394531 11.289062 21.394531 11.640625 21.046875 L 14.304688 18.40625 L 14.304688 30.59375 C 14.304688 33.058594 16.328125 35.058594 18.808594 35.058594 L 25.835938 35.058594 C 26.332031 35.058594 26.734375 34.660156 26.734375 34.167969 C 26.734375 33.675781 26.332031 33.273438 25.835938 33.273438 Z M 25.832031 33.273438 "/>
            </g>
            </svg>
            <p>{retweet}</p>
          </Link>
        </div>
        <div className="tweet-action hover-reply">
            <button type='submit' className="action-link" title='React' onClick={handleTweetSubmit}>

              {
                ((react > 0) && currentUserHaveTweet) ? 
                  <p className="icon likedIcon"><ion-icon name="heart"></ion-icon></p>
                : 
                <p className="icon hover-reply"><ion-icon name="heart-outline"></ion-icon></p>            
                
              }
              <p>{react}</p>
            </button>
        </div>
        <div className="tweet-action hover-react" title='Share'>
          <Link className="action-link">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="49px" height="50px" viewBox="0 0 49 50"         version="1.1">
              <g id="surface1">
              <path className= "path1" d="M 24.5 0.714844 C 38.03125 0.714844 49 11.585938 49 25 C 49 38.414062 38.03125 49.285156 24.5 49.285156 C 10.96875 49.285156 0 38.414062 0 25 C 0 11.585938 10.96875 0.714844 24.5 0.714844 Z M 24.5 0.714844 "/>
              <path className= "path2" d="M 31.140625 19.605469 L 25.136719 13.65625 C 24.785156 13.304688 24.214844 13.304688 23.863281 13.65625 L 17.859375 19.605469 C 17.503906 19.957031 17.503906 20.519531 17.859375 20.867188 C 18.210938 21.214844 18.78125 21.21875 19.132812 20.867188 L 23.597656 16.441406 L 23.597656 28.570312 C 23.597656 29.0625 24.003906 29.464844 24.5 29.464844 C 24.996094 29.464844 25.402344 29.0625 25.402344 28.570312 L 25.402344 16.441406 L 29.867188 20.867188 C 30.042969 21.042969 30.273438 21.132812 30.503906 21.132812 C 30.734375 21.132812 30.964844 21.046875 31.140625 20.867188 C 31.492188 20.519531 31.492188 19.957031 31.140625 19.605469 Z M 31.140625 19.605469 "/>
              <path className= "path2" d="M 33.757812 36.839844 L 15.242188 36.839844 C 13.726562 36.839844 12.488281 35.613281 12.488281 34.109375 L 12.488281 27.382812 C 12.488281 26.886719 12.894531 26.488281 13.390625 26.488281 C 13.886719 26.488281 14.292969 26.886719 14.292969 27.382812 L 14.292969 34.109375 C 14.292969 34.628906 14.71875 35.050781 15.242188 35.050781 L 33.757812 35.050781 C 34.28125 35.050781 34.707031 34.628906 34.707031 34.109375 L 34.707031 27.382812 C 34.707031 26.886719 35.113281 26.488281 35.609375 26.488281 C 36.105469 26.488281 36.507812 26.886719 36.507812 27.382812 L 36.507812 34.109375 C 36.507812 35.613281 35.273438 36.839844 33.757812 36.839844 Z M 33.757812 36.839844 "/>
              </g>
              </svg>
          </Link>

        </div>
    </>
  );
}

export default TweeterActions;